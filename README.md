今天吃什麼？ What To Eat Today?
一款旨在解決日常「用餐選擇困難症」的 Web App。透過互動式地圖探索、AI 智慧分類與充滿儀式感的決策工具，提供充滿質感與樂趣的美食探索體驗。

✨ 核心功能 (Features)

📍 互動式地圖探索: 定位使用者，並在真實地圖上透過拖曳圓心或手把，直觀地「畫」出一個圓形的美食探索半徑。

🔍 沉浸式地點搜尋: 在探索圈頁面，提供一個從圖示流暢展開的搜尋欄，讓使用者可透過輸入地址或地標快速定位，無縫地與地圖互動。

🧠 AI 智慧分類: 自動抓取範圍內的所有餐廳，並透過後端 Gemini API 進行智慧分類，現在更能動態產生最貼切的 Emoji 圖示！

🌊 沉浸式探索流程: 在地圖上無縫瀏覽不同分類的店家列表與資訊，過程無須跳轉頁面，提供不中斷的「心流」體驗。

🎡 充滿儀式感的決策工具: 將感興趣的店家加入「候選清單」，並透過一個設計精良、動畫流暢的「命運羅盤」做出最終決定。

📖 豐富的店家詳情: 查看店家的真實照片、使用者評論、完整營業時間、電話、網站等詳細資訊。

🛠️ 優雅的控制中心 (Floating Action Hub): 將地圖輔助工具（如調整範圍、篩選）整合至一個可展開的浮動按鈕中，最大化地圖視野，同時提供流暢的互動體驗。

版本演進
===v1===
奠定了專案核心 UI/UX 風格，包含配色、字體與基本版面配置。使用 Mock Data 建立了一個可互動的 App 原型。實現了基本的頁面切換與命運羅盤動畫。

===v2===
真實數據串接: 後端全面改寫，串接 Google Maps Platform API 與 Google Gemini API，可即時獲取並智慧分類真實世界的餐廳數據。API 金鑰管理: 引入 .env 檔案來管理 API 金鑰，提升安全性。UI/UX 優化: 升級地圖圖示，並改善探索圈頁面的操作體驗。

===v3===
前端架構現代化: 將原先龐大的 js/app.js 檔案，全面重構為 ES6 模組化架構。更智慧的 AI 分類: 優化後端 AI Prompt，讓 Gemini API 能自動為美食分類附上最適合的 Emoji。開發流程整合: Flask 伺服器整合了前端靜態檔案託管，解決了 CORS 問題，實現 python app.py 一鍵啟動。

===v4===
強大的複合式搜尋: 後端採用寬泛類型 + 精準關鍵字的複合式搜尋策略，大幅減少遺漏。整合式篩選功能: 在美食地圖頁新增了設計精美的篩選面板，可依「目前營業中」、「價位」、「評分」進行多重條件篩選。多行類別佈局: 優化了美食分類區的顯示方式，改為兩行或三行的橫向滾動佈局。

===v5===
後端架構升級: API 拆分為 /api/find_places (搜尋) 和 /api/categorize_places (分類) 兩個端點，優化前端等待體驗。前端互動革新 - 單擊聚焦: 簡化了美食地圖頁的核心互動，只需單擊即可多選或取消類別，實現即時的地圖篩選。

===v6===
沉浸式範圍重設: 在美食地圖頁新增「調整範圍」功能，無須返回上一頁即可原地圖調整探索圈。精準距離驗證: 後端導入 geopy 函式庫，增加伺服器端的距離驗證程序，確保 100% 位於使用者圈選的範圍內。

===v7===
UI/UX 核心重塑 - Floating Action Hub: 引入浮動操作中心，將「調整範圍」、「重設檢視」、「篩選」等輔助功能整合至一個位於地圖右下角的浮動按鈕中，大幅簡化了介面。功能增強與流程優化: 新增「查看候選」面板，可直接在彈出視窗中管理候選清單。

===v8===
使用者體驗全面優化 (UX Overhaul): 啟用 GPS 優先定位模式，並加入路名圖層。智慧地圖聚焦: 點擊美食類別或店家時，地圖會自動平移，將目標置於視野上半部的視覺中心，避免被下方 UI 遮擋。「調整範圍」模式重構: 重新設計了該模式的底部 UI，並在進入此模式時提供更宏觀的全覽視角。

===v9===
沉浸式地點搜尋功能 (Immersive Location Search):

後端支援: 新增 /api/geocode 端點，用於將使用者輸入的地址轉換為經緯度。

前端實現: 在「探索圈」與「調整範圍」頁面加入地點搜尋功能。

動畫與互動革新: 設計了從一個半透明圖示，平滑展開為搜尋欄的動畫。使用者點擊圖示後，圖示會優雅地移至搜尋欄左側，提供無遮擋的輸入體驗。

情境式 UI: 搜尋圖示會根據所在的頁面（探索圈 vs. 調整範圍）動態調整垂直位置，以達到最佳的視覺佈局。

版面修正: 徹底修復了美食地圖頁面底部控制面板的跑版問題，確保其在各種情況下都維持一致的佈局。

🚀 技術棧 (Tech Stack)

前端 (Frontend):

HTML5 / CSS3 (Flexbox, Grid, Keyframe Animations)

JavaScript (ES6+, 模組化 (Modules), 無框架)

Leaflet.js (開源地圖函式庫)

後端 (Backend):

Python 3 / Flask

Google Maps Platform API: 用於地理定位與餐廳資料搜尋。

Google Gemini API: 用於餐廳智慧分類與 Emoji 生成。

python-dotenv: 用於管理環境變數。

geopy: 用於精準計算地理距離。

🔧 如何運行 (Getting Started)

Clone Repo

git clone https://github.com/YOUR_USERNAME/what-to-eat.git
cd what-to-eat

取得 API 金鑰

前往 Google Cloud Console 申請 API 金鑰，並啟用 Places API。

前往 Google AI Studio 取得 Gemini API 金鑰。

設定環境變數

在專案根目錄下，建立一個名為 .env 的檔案，並填入您的金鑰：

GOOGLE_MAPS_API_KEY="你的Google地圖API金鑰"
GEMINI_API_KEY="你的Gemini API金鑰"

安裝與啟動伺服器

安裝所需的 Python 套件
pip install -r requirements.txt

啟動整合後的前後端伺服器
python app.py

開啟 App

伺服器將會運行在 http://127.0.0.1:5000。

請打開您的網頁瀏覽器 (建議使用 Chrome)，並直接訪問 http://127.0.0.1:5000。

注意：由於已改為模組化架構，請不要再直接點開 index.html 檔案，否則會因 CORS 策略而無法運行。